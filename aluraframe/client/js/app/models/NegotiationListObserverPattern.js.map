{"version":3,"sources":["../../app-es6/models/NegotiationListObserverPattern.js"],"names":["NegotiationList","viewFn","_negotiations","_viewFn","negotiation","push","concat"],"mappings":";;;;;;IAAMA,e;AACF,6BAAYC,MAAZ,EAAoB;AAAA;;AAChB,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,OAAL,GAAeF,MAAf;AACA;AACH;;;;4BAEGG,W,EAAa;AACb,iBAAKF,aAAL,CAAmBG,IAAnB,CAAwBD,WAAxB;AACA;AACA;AACA;AACA,iBAAKD,OAAL,CAAa,IAAb;;AAEA;AACA;AACA;;AAEA;AACA;AACH;;;gCAOO;AACJ,iBAAKD,aAAL,GAAqB,EAArB;AACA,iBAAKC,OAAL,CAAa,IAAb;;AAEA;;AAEA;AACH;;;4BAZkB;AACf;AACA,mBAAO,GAAGG,MAAH,CAAU,KAAKJ,aAAf,CAAP;AACH","file":"NegotiationListObserverPattern.js","sourcesContent":["class NegotiationList {\n    constructor(viewFn) {\n        this._negotiations = [];\n        this._viewFn = viewFn;\n        // this._context = context;\n    }\n\n    add(negotiation) {\n        this._negotiations.push(negotiation);\n        // Call anonymous fn to update view with negotiationList from this\n        // Does not work with dynamic context, since the context NegotiationList\n        // is different from NegotiationCtrl\n        this._viewFn(this);\n\n        // Calling static method of Reflect, passing method to be called,\n        // its respective context and the received params\n        // Reflect.apply(this._viewFn, this._context, [this]);\n\n        // Calling static method with apply (ES5). Alternative before reflect in ES6.\n        // this._viewFn.apply(this._context, [this]);\n    }\n\n    get negotiations() {\n        // Blinding array list returning a copied version of negotiations list\n        return [].concat(this._negotiations);\n    }\n\n    empty() {\n        this._negotiations = [];\n        this._viewFn(this);\n\n        // Reflect.apply(this._viewFn, this._context, [this]);\n\n        // this._viewFn.apply(this._context, [this]);\n    }\n}"]}