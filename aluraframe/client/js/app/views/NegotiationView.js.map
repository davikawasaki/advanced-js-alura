{"version":3,"sources":["../../app-es6/views/NegotiationView.js"],"names":["View","DateHelper","currentInstance","NegotiationView","el","addEventListener","event","target","nodeName","order","textContent","toLowerCase","model","negotiations","map","date2txt","n","date","quantity","value","volume","join","totalVolume"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,gB,UAAAA,I;;AACAC,sB,sBAAAA,U;;AACAC,2B,+BAAAA,e;;;;;;;;;;;;;;;;;;;;;uCAEKC,e;;;AAET,yCAAYC,EAAZ,EAAgB;AAAA;;AAAA,kJACNA,EADM;;AAEZ;AACAA,uBAAGC,gBAAH,CAAoB,OAApB,EAA6B,UAASC,KAAT,EAAgB;AACzC,4BAAGA,MAAMC,MAAN,CAAaC,QAAb,IAAyB,IAA5B,EACIN,kBAAkBO,KAAlB,CAAwBH,MAAMC,MAAN,CAAaG,WAAb,CAAyBC,WAAzB,EAAxB;AACP,qBAHD;AAHY;AAOf;;;;6CAEQC,K,EAAO;AACZ,odAaUA,MAAMC,YAAN,CAAmBC,GAAnB,CAAuB;AAAA,gGAEXb,WAAWc,QAAX,CAAoBC,EAAEC,IAAtB,CAFW,2CAGXD,EAAEE,QAHS,2CAIXF,EAAEG,KAJS,2CAKXH,EAAEI,MALS;AAAA,yBAAvB,EAOCC,IAPD,CAOM,EAPN,CAbV,8HA0BYT,MAAMU;;AAEN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApCZ;AAyCH;;;;cArDgCtB,I","file":"NegotiationView.js","sourcesContent":["import {View} from './View';\nimport {DateHelper} from '../helpers/DateHelper';\nimport {currentInstance} from '../controllers/NegotiationCtrl';\n\nexport class NegotiationView extends View {\n\n    constructor(el) {\n        super(el);\n        // Event delegation to parent elements, in order to execute properly methods from controller\n        el.addEventListener('click', function(event) {\n            if(event.target.nodeName == 'TH')\n                currentInstance().order(event.target.textContent.toLowerCase());\n        });\n    }\n\n    template(model) {\n        return `\n        <table class=\"table table-hover table-bordered\">\n            <thead>\n                <tr>\n                    <th>DATA</th>\n                    <th>QUANTIDADE</th>\n                    <th>VALOR</th>\n                    <th>VOLUME</th>\n                </tr>\n            </thead>\n            \n            <tbody>\n                <!-- Iterate negotiations and return concatenated string of td -->\n                ${model.negotiations.map(n => `\n                    <tr>\n                        <td>${DateHelper.date2txt(n.date)}</td>\n                        <td>${n.quantity}</td>\n                        <td>${n.value}</td>\n                        <td>${n.volume}</td>\n                    </tr>\n                `).join('')}\n            </tbody>\n            \n            <tfoot>\n                <td colspan=\"3\"></td>\n                <td>${\n                    model.totalVolume\n\n                    // Auto invokable function\n                    // IIFE: Immediate invoked function expression\n                    // @see: https://imasters.com.br/front-end/javascript/sobre-funcoes-imediatas-javascript-iife/?trace=1519021197&source=single\n                    //(function() {\n                    //    let total = 0;\n                    //    model.negotiations.forEach(n => total += n.volume );\n                    //    console.log(total)\n                    //    return total;\n                    //})()\n                }</td>\n            </tfoot>\n        </table>\n        `;\n    }\n\n}"]}